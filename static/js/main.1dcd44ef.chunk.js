(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/Error.da5cc546.svg"},36:function(e,t,a){e.exports=a.p+"static/media/Search.c2a17a15.svg"},38:function(e,t,a){e.exports=a(69)},43:function(e,t,a){},44:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),o=a.n(i),c=(a(43),a(44),a(4)),l=c.a.div.withConfig({displayName:"Appstyles__Container",componentId:"sc-ldsyx1-0"})(["display:flex;flex-direction:column;-webkit-box-align:center;align-items:center;max-width:500px;margin-left:auto;margin-right:auto;"]),s=a(21),u=a(14),d=a(12),p=Object(d.b)({name:"weather",initialState:{location:{name:"",country:"",unixDate:"",weatherIcon:null,currentTemp:"",feelsLike:"",weather:"",windSpeed:"",humidity:null,status:"idle",errorCode:null},autocompleteList:{status:"",cities:[]}},reducers:{getAutoCompleteListFetch:function(e){e.autocompleteList.status="loading"},getAutoCompleteListSuccess:function(e,t){e.autocompleteList.status="loaded",console.log(t.payload),e.autocompleteList.cities=t.payload},getAutoCompleteListFailure:function(e,t){e.autocompleteList.status="error",console.log(t.payload)},clearAutoCompleteList:function(e){e.autocompleteList.cities=[]},getWeatherFetch:function(e){e.location.status="loading"},getWeatherSuccess:function(e,t){e.location=t.payload,e.location.status="loaded",e.location.errorCode=null},getWeatherFailure:function(e,t){console.log(t.payload.response.status),e.location={name:"",country:"",unixDate:"",weatherIcon:null,currentTemp:"",feelsLike:"",weather:"",windSpeed:"",humidity:null,status:"error",errorCode:t.payload.response.status}}}}),m=p.reducer,h=p.actions,f=h.getAutoCompleteListFetch,g=h.getAutoCompleteListSuccess,y=h.getAutoCompleteListFailure,x=h.clearAutoCompleteList,b=h.getWeatherFetch,w=h.getWeatherSuccess,C=h.getWeatherFailure,E=c.a.input.withConfig({displayName:"SearchBarstyles__StyledSearchBar",componentId:"sc-a2x47p-0"})(["box-sizing:border-box;width:595px;height:50px;border:none;border-radius:6px 0 0 6px;background-color:white;padding:14px 16px;color:#8ca4b3;&:focus,&:active,&:focus-visible{border:none;outline:none;}"]),v=function(e){var t=e.handleInputChange,a=e.handleSearch,i=e.inputValue,o=e.handleSearchBarMount,c=Object(n.useRef)();Object(n.useEffect)((function(){o(c)}),[o]);return r.a.createElement(E,{ref:c,type:"text",placeholder:"Search by city name",onChange:t,onKeyDown:function(e){"Enter"===e.code&&a()},value:i})},_=c.a.div.attrs((function(e){return{name:e.name,isLoading:e.isLoading}})).withConfig({displayName:"WeatherListstyles__WeatherWrapper",componentId:"sc-l833mz-0"})(["border-radius:6px;"]),S=c.a.div.withConfig({displayName:"WeatherListstyles__SearchWrapper",componentId:"sc-l833mz-1"})(["display:flex;margin-top:100px;margin-bottom:50px;"]),I=c.a.div.withConfig({displayName:"WeatherListstyles__ErrorWrapper",componentId:"sc-l833mz-2"})(["display:flex;flex-direction:column;align-items:center;img{width:109px;height:116px;margin:32px;}span{font-weight:600;line-height:1.5rem;color:#9ab0bd;}"]),L=c.a.div.withConfig({displayName:"WeatherCardstyles__FooterItem",componentId:"sc-iqodx0-0"})(["display:flex;align-items:center;flex-wrap:wrap;padding:24px;width:50%;box-sizing:border-box;height:100%;img{height:50px;width:50px;}:first-of-type{border-right:1px solid #8ca4b3;justify-content:space-between;}"]),W=c.a.div.withConfig({displayName:"WeatherCardstyles__WeatherHeader",componentId:"sc-iqodx0-1"})(["box-sizing:border-box;display:flex;align-items:center;justify-content:space-between;height:55px;width:645px;padding:20px 24px;border-bottom:1px solid #8ca4b3;border-radius:6px 6px 0 0;"]),k=c.a.div.withConfig({displayName:"WeatherCardstyles__WeatherFooter",componentId:"sc-iqodx0-2"})(["display:flex;align-items:center;height:120px;width:645px;"]),j=c.a.div.withConfig({displayName:"WeatherCardstyles__WeatherStat",componentId:"sc-iqodx0-3"})(["display:flex;align-items:center;justify-content:space-between;width:95px;font-size:0.75rem;font-weight:500;color:#8ca4b3;padding-right:32px;"]),O=c.a.span.withConfig({displayName:"WeatherCardstyles__StatValue",componentId:"sc-iqodx0-4"})(["color:#435865;"]),N=c.a.div.withConfig({displayName:"WeatherCardstyles__CurrentTemp",componentId:"sc-iqodx0-5"})(["display:flex;height:100%;align-items:center;font-size:4rem;color:#435865;"]),B=c.a.div.withConfig({displayName:"WeatherCardstyles__WeatherTypeContainer",componentId:"sc-iqodx0-6"})(["display:flex;align-items:center;height:100%;flex-direction:column;"]),z=c.a.span.withConfig({displayName:"WeatherCardstyles__City",componentId:"sc-iqodx0-7"})(["font-size:14px;font-weight:600;color:#435865;;"]),A=c.a.span.withConfig({displayName:"WeatherCardstyles__Country",componentId:"sc-iqodx0-8"})(["font-size:14px;font-weight:600;color:#8ca4b3;padding-left:12px;"]),F=c.a.span.withConfig({displayName:"WeatherCardstyles__Weather",componentId:"sc-iqodx0-9"})(["font-size:14px;font-weight:500;color:#435865;"]),q=c.a.span.withConfig({displayName:"WeatherCardstyles__Date",componentId:"sc-iqodx0-10"})(["font-size:14px;font-weight:600;color:#8ca4b3;"]),D=c.a.div.withConfig({displayName:"WeatherCardstyles__Panel",componentId:"sc-iqodx0-11"})(["display:flex;flex-direction:column;justify-content:flex-start;border-radius:6px;background-color:white;"]),T=a(19),P=a.n(T),M=function(e){var t=e.location,a=t.name,n=t.country,i=t.unixDate,o=t.weatherIcon,c=t.currentTemp,l=t.feelsLike,s=t.weather,u=t.windSpeed,d=t.humidity,p=t.status,m=t.errorCode;return"loaded"===p&&null===m?r.a.createElement(D,null,r.a.createElement(W,null,r.a.createElement("div",null,r.a.createElement(z,null,a),r.a.createElement(A,null,n)),r.a.createElement(q,null,function(e){var t=new Date(e),a=t.getDay(),n=t.getDate(),r=t.getMonth();return"".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a],", ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r]," ").concat(n)}(i))),r.a.createElement(k,null,r.a.createElement(L,null,r.a.createElement(N,null,"".concat(c,"\xb0")),r.a.createElement(B,null,o?r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(o,"@2x.png"),alt:"weatherImage"}):null,r.a.createElement(F,null,s))),r.a.createElement(L,null,r.a.createElement(j,null,r.a.createElement("span",null,"Humidity:"),r.a.createElement(O,null,"".concat(d,"%"))),r.a.createElement(j,null,r.a.createElement("span",null,"Wind:"),r.a.createElement(O,null,"".concat(u,"km/h"))),r.a.createElement(j,null,r.a.createElement("span",null,"Feels like"),r.a.createElement(O,null," ".concat(l,"\xb0")))))):"error"===p&&404===m?r.a.createElement(I,null,r.a.createElement("img",{src:P.a,alt:"error"}),r.a.createElement("span",null,"Sorry, there is no such city")):"error"===p?r.a.createElement(I,null,r.a.createElement("img",{src:P.a,alt:"error"}),r.a.createElement("span",null,"Error ".concat(m," occurred :("))):r.a.createElement(D,null)},V=c.a.button.withConfig({displayName:"SearchButtonstyles__StyledSearchButton",componentId:"sc-1e85evy-0"})(["display:flex;align-items:center;justify-content:center;cursor:pointer;width:50px;height:50px;border:none;background-color:white;border-radius:0 6px 6px 0;"]),J=a(36),R=a.n(J),H=function(e){var t=e.handleSearch;return r.a.createElement(V,{onClick:t},r.a.createElement("img",{src:R.a,alt:"search"}))},K=c.a.ul.withConfig({displayName:"CitiesListstyles__StyledCitiesList",componentId:"sc-lx7vkd-0"})(["position:fixed;background-color:#eff5f9;list-style-type:none;padding:5px;margin:0;top:",";left:",";width:",";"],(function(e){return e.searchBarPosition.top+e.searchBarPosition.height+"px"}),(function(e){return e.searchBarPosition.left+"px"}),(function(e){return e.searchBarPosition.width+50+"px"})),U=c.a.li.withConfig({displayName:"ListItemstyles__StyledListItem",componentId:"sc-1xsil7k-0"})(["height:65px;background:transparent;border-bottom:1px solid #8ca4b3;color:#435865;font-weight:500;button{cursor:pointer;border:none;background:transparent;display:flex;align-items:center;width:100%;height:100%;color:#435865;font-size:14px;font-family:'Inter',sans-serif;}"]),G=c.a.div.withConfig({displayName:"ListItemstyles__Item",componentId:"sc-1xsil7k-1"})(["margin:0 12px;"]),Q=function(e){var t=e.name,a=e.coordinates,n=e.handleSearch;return r.a.createElement(U,null,r.a.createElement("button",{value:t,onClick:function(){return n(a)}},r.a.createElement(G,null,t)))},X=function(e){var t=e.weather,a=e.inputValue,n=e.searchBarPosition,i=e.handleSearch;return t.autocompleteList.cities&&a?r.a.createElement(K,{searchBarPosition:n},t.autocompleteList.cities.map((function(e){return r.a.createElement(Q,{key:e.name+e.country_name,name:e.name,coordinates:e.coordinates,handleSearch:i})}))):r.a.createElement("div",null)},Y=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.weather})),a=Object(n.useState)(""),i=Object(s.a)(a,2),o=i[0],c=i[1],l=Object(n.useState)([]),d=Object(s.a)(l,2),p=d[0],m=d[1],h=function(){t.autocompleteList.cities[0]&&g(t.autocompleteList.cities[0].coordinates)},g=function(a){t.autocompleteList.cities[0]&&(e(b(a)),e(x()),c(""))},y=Object(n.useCallback)((function(e){console.log("handlesEARCHbARmOUNT"),e.current&&m(e.current.getBoundingClientRect())}),[]);return Object(n.useEffect)((function(){o.trim()&&e(f(o))}),[o,e]),r.a.createElement("div",null,r.a.createElement(S,null,r.a.createElement(v,{handleInputChange:function(e){c(e.target.value)},handleSearch:h,inputValue:o,handleSearchBarMount:y}),r.a.createElement(H,{handleSearch:h,inputValue:o},"Search")),r.a.createElement(_,null,r.a.createElement(M,{location:t.location})),r.a.createElement(X,{weather:t,inputValue:o,searchBarPosition:p,handleSearch:g}))};var Z=function(){return r.a.createElement("div",null,r.a.createElement(l,null,r.a.createElement(Y,null)))},$=a(37),ee=a(10),te=a.n(ee),ae=a(9),ne=a(20),re=a.n(ne),ie=te.a.mark(le),oe=te.a.mark(se),ce=te.a.mark(ue);function le(e){var t,a;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(ae.a)((function(){return re.a.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e.payload.lat,"&lon=").concat(e.payload.lon,"&units=metric&lang=russian&appid=c53bf3e244553ba293bc4ff420dc8478"))}));case 3:return t=n.sent,a={name:t.data.city.name,country:t.data.city.country,unixDate:Date.parse(t.data.list[0].dt_txt),weather:t.data.list[0].weather[0].main,weatherIcon:t.data.list[0].weather[0].icon,currentTemp:t.data.list[0].main.temp,feelsLike:t.data.list[0].main.feels_like,windSpeed:t.data.list[0].wind.speed,humidity:t.data.list[0].main.humidity},n.next=7,Object(ae.b)(w(a));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(ae.b)(C(n.t0));case 13:case"end":return n.stop()}}),ie,null,[[0,9]])}function se(e){var t;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(ae.a)((function(){return re.a.get("http://autocomplete.travelpayouts.com/places2?term=".concat(e.payload,"&locale=ru&types[]=city"))}));case 3:return t=a.sent,a.next=6,Object(ae.b)(g(t.data.slice(0,5)));case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(ae.b)(y(a.t0));case 12:case"end":return a.stop()}}),oe,null,[[0,8]])}function ue(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.c)(b,le);case 2:return e.next=4,Object(ae.c)(f,se);case 4:case"end":return e.stop()}}),ce)}var de=ue,pe=a(7),me=Object(pe.b)({weather:m}),he=Object($.a)(),fe=Object(d.a)({reducer:me,middleware:[he]});he.run(de),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:fe},r.a.createElement(Z,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.1dcd44ef.chunk.js.map